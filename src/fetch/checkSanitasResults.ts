type Response = {
  automaticSearchEnabled: boolean;
  availableslots: {
    order: number;
    isSingleDoctor: boolean;
    centers: {
      id: string;
      name: string;
      address: string;
    }[];
  };
  commonSlotData: unknown;
  fieldsToTranslate: string[];
  openSearchEnabled: boolean;
};

const URL =
  "https://api.sanitas.es/is-clientes-citas/api/v3/clientes/5219228/specialties/316/reasons/130.1/slots?startDate=2024-04-14T00:00:00.000&modality=0&isClosedSearch=true&provinceId=30&doctorId=42886&centerId=14607-142371";

export const checkSanitasResults = async () => {
  const response = await fetch(URL, {
    headers: {
      Authorization:
        "Bearer eyJ0eXAiOiJKV1QiLCJhbGciOiJSUzI1NiJ9.eyJzdWIiOiJNaVNhbml0YXMiLCJpc3MiOiI1MjE5MjI4IiwibGFzdEFjY2VzcyI6IjIwMjQtMDQtMTRUMTE6NTE6MzQuMDAwIiwidXNlcklkIjoiNTIxOTIyOCIsImF1ZCI6WyJNdWx0aWdhcmFudGVSU0hRIiwiU1BTIiwiREFTLVNhbmlhLUNpdGFzLUJvdCIsIkNFWFJTSFEiLCJJTkVULUNsaWVudGVzLUZlbml4IiwiQnVzY2Fkb3JHdWlhTWVkaWNhIiwiSU5FVC1DbGllbnRlcy1Qcml2YWRvIiwiSU5FVC1DbGllbnRlcy1GYWN0dXJhY2lvbiIsIklORVQtZ2Vub21pY3MtYmZmIiwiTWlTYW5pdGFzLVB1YmxpY28iLCJJTkVULUNsaWVudGVzLVBlcmZpbCIsIm10cy1tcyIsIkhPU1AtQ0hBVEJPVFNFUlZJQ0UtUEMiLCJNZWRpYWRvcmVzUlNRIiwiSU5FVC1DbGllbnRlcy1QdWJsaWNvIiwiSU5FVC1WZXJzaW9uZXNNb3ZpbGVzIiwiSU5FVC1DbGllbnRlcy1DaXRhcyIsImZpc2lvLWRpZ2l0YWwtYmZmIiwiSU5FVC1DbGllbnRlcy1EZW50YWwtVGFyaWZhcmlvIiwiSU5FVC1TNCIsIklORVQtQ2xpZW50ZXMtRGVudGFsLUNlbnRyb3MiLCJJTkVULWRpZ2l0YWwtY2hlY2t1cC1iZmYiLCJTQUxVRENPTkVDVEFEQVJTSFEiLCJNaVNhbml0YXMtUHJpdmFkbyIsIlNBTFVEQ09ORUNUQURBQ29yZVJTSFEiLCJJTkVULUNsaWVudGVzLVJlZW1ib2xzb3MiLCJTYWx1ZENvbmVjdGFkYVNhbml0YXNSU0hRIiwiUm9ja2V0Q2hhdCIsIklORVQtQ2xpZW50ZXMtUGVyZmlsLVNhbHVkIiwiR2VuZXN5cy1DaGF0IiwiSU5FVC1DbGllbnRlcy1NZWRpY29zIiwiSU5FVC1DbGllbnRlcy1IQ0UiLCJJTkVULUN1YWRyby1NZWRpY28iLCJJTkVULUNsaWVudGVzLURlbnRhbC1BbmFtbmVzaXMiLCJJTkVULUNsaWVudGVzLUJsdWEiLCJJTkVULURpZ2l0YWwtU2FsZXMiLCJOb3RpZmljYWNpb25lc01vYmlsZSIsIklORVQtVmlkZW9jb25zdWx0YS1JbnRlZ3JhY2lvbiIsIklORVQtQ2xpZW50ZXMtQXV0b3JpemFjaW9uZXMiXSwidGtuIjoiaUlhdFRybjNXSXNYeGxzR0FlWnVHdDlwck5FViIsInJlcXVlc3RfdG9rZW4iOiJaWGxLTUdWWVFXbFBhVXBMVmpGUmFVeERTbWhpUjJOcFQybEtVMVY2U1RGT2FVbzVMbVY1U25wa1YwbHBUMmxKZUU1NlVUSlBSRlV5VDBWVmFVeERTakZoVjFGcFQybEplRTU2VVRKUFJGVXlUMFZWYVV4RFNtaGpTRUp3V2tOSk5rbHJNVlJXTWxacFNXbDNhV0ZZVG5wSmFtOXBUbFJKZUU5VVNYbFBRMGx6U1cxV05HTkRTVFpOVkdONFRYcEJOVTFVYTNsTmFYZHBZVmRHTUVscWIzaE9la1Y2VFVSbk5FMTZTWGxNUTBweFpFZHJhVTlwU1hwYVZHY3dUbXBGZVZsVE1XbFBWMDAwVEZSU2JGbDZVWFJQUkZab1drTXhiVTFVUlROYVZFNXFUbXBKTlU5WFVXbG1VVDA5TGtRNVozSjBTMmgyVWpVME1YZFNTRWxGYjBKQ1JISnZVa2Q1Y2pSU1UzcHRNVTExUVRBek5tcDNOMlZQZG10eGJETkZTV2xSWlRobFJVb3hNbWhqUkVwWVNXaHlablExUjBndFdGVmZSbGh6WTJ0WFIzaEtURkJFY3pSbGNHOW9WemhVU1ZSV1NVdEdSMjg1TlhsalJ6SlZiVFU0YTNkcGRsTTNhakZLYTJOcVVHeHJOREpJWkhSeGNuRnJWM2hDU3psWlJEVk1jVUppVlY5WmF6UnpaVGRYVWpSTWRFVjJUbGhwZDFsaVVuUkNUR1psWlRKbmVYaFdibWd5TVdSRmEwSlNiVWMyYW1GV2JYWXpZelZXUWw5WFoyMXBNMDQ0VjBaS1JrbDBZekk1WmtWNVdtUkZkMTkyTjBsUVVHMVZSa2x3Y2tGcE4wZFpUSEJYZG14eGJuSmpRVWcyWDJWU2JrUm5iWFJaWDJWYVIzbG9SbFpuV1RnelJtZGZRVjlsTVRFMFYyRmlPR0paU2xrdExUSk5jMGQ2V0hKMU1qaGZMV3BCZWw5WWEwRmZVbTF2Um1RMlpuSm9lR3RuTWpSMFpIWlVNVzVuZHowOSIsImFwcElkIjoiTVNXZWIiLCJ0a25faW5ldCI6WyJUMUZQU1VFMVkycEJkamQ1TTNaU1dWRjBjMDVyZVV4d1lsaG9TbGhrTTB3eGJVbEdVMnBtUnpST2NuaDZjMFl3VkU1UldWaGtTbXgyYVhwUmQybFhWVFZyTkdSRlVDOTJhbmhsTDFvd1NrRnJhbmMwYm1kaGRsQTBSRTVEVGxobVdubG9aRVkxYzJOVlFreFpRWFpMU1RreFIzQTVRVGxMTWxCRFZURTViR009Il0sImludGVybmFsQWNjZXNzIjpmYWxzZSwidWFkIjpbIjA2MCIsIjAyNiIsIjAzMyIsIjA0MiJdLCJleHAiOjE3MTMwOTE5MjIsImlhdCI6MTcxMzA4ODMyMiwianRpIjoiYjVkNTZkZDMtYmM3Ni00NTY5LTg1ZDMtNzU0ZGUwMzY2Yzg1In0.Bz2XXIUyGt2levdCgAuh3Nb4mUUCRZo8auJX9oEvcwiQNBW4Bjm0IwH0slAxpkXy6IKGB2fRjk6BQYBhEF2KW8OP3OxuLGNaBrLEg3vZ0VcZdukzgnOGAT9cpMntPiOxEGhpEitboUdsfH5ie_XgVu5gPY3PHpcjBikVkoW_gw-31AclW7UfXUYHGG1pDiSCVIMlaBcQ2Ijvlqj7ZOrdwwtgLwuylPepz5ha1cKLtMuNUz_MAXWyXf1yRIbpzS4coiVu1ZSWZ-j1iFsj9hbmXStYPNjThUdnGb4pisTee4hYhGjX16qo0Cc_G-zwV1h7yFjp4OjSAbHsjr-9KK-Hfw",
    },
  });
  const data: Response = await response.json();
  if (data && data.availableslots) {
    return "hay citas";
  }
  return "no hay citas";
};
